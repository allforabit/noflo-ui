<polymer-element name="noflo-breadcrumb" attributes="project graphs">
  <style>
    h1 {
      font-size: 17px;
      margin: 0;
      color: #fff;
      font-weight: normal;
    }
    h2 {
      font-size: 10px;
      margin: 0;
      color: hsl(189, 11% 26%);
      font-weight: normal;
      text-transform: uppercase;
    }
  </style>
  <template>
    <template if="{{ currentGraph }}">
    <h1>{{ currentGraph.properties.name }}</h1>
    </template>
    <template if="{{ project }}">
    <h2>{{ project.name }}</h2>
    </template>
    <template if="{{ currentGraph && !project }}">
    <h2>Sketch</h2>
    </template>
  </template>
  <script>
    Polymer('noflo-breadcrumb', {
      project: '',
      graphs: null,
      currentGraph: null,
      graphsChanged: function () {
        if (!this.graphs || this.graphs.length === 0) {
          this.currentGraph = null;
          return;
        }
        // Use the top-level graph as the runtime main graph
        this.currentGraph = this.graphs[this.graphs.length - 1];
        if (!this.currentGraph.properties.name) {
          this.currentGraph.properties.name = '';
        }
      }
    });
  </script>
</polymer-element>
